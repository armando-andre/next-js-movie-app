{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"/Users/armandocalderon/Documents/projects/react/next-js/next-js-tutorial/pages/p/[id].js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useContext } from 'react';\nimport fetch from 'isomorphic-unfetch';\nimport Layout from '../../components/MyLayout';\nimport UserContext from '../../components/MovieCartContext';\n\nvar Post = function Post(props) {\n  var _useContext = useContext(UserContext),\n      cartItems = _useContext.cartItems;\n\n  var addToCartFunction = function addToCartFunction(event) {\n    event.preventDefault();\n    cartItems.push(\"\".concat(props.show.Title, \", (\").concat(props.show.Year, \")\"));\n    console.log(cartItems);\n  };\n\n  return __jsx(Layout, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18\n    },\n    __self: this\n  }, __jsx(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19\n    },\n    __self: this\n  }, \"Title: \", props.show.Title), __jsx(\"img\", {\n    src: props.show.Poster,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20\n    },\n    __self: this\n  }), __jsx(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21\n    },\n    __self: this\n  }, __jsx(\"b\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21\n    },\n    __self: this\n  }, \"Rated:\"), \" \", props.show.Rated), __jsx(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22\n    },\n    __self: this\n  }, __jsx(\"b\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22\n    },\n    __self: this\n  }, \"Released:\"), \" \", props.show.Released), __jsx(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23\n    },\n    __self: this\n  }, __jsx(\"b\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23\n    },\n    __self: this\n  }, \"Runtime:\"), \" \", props.show.Runtime), __jsx(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24\n    },\n    __self: this\n  }, __jsx(\"b\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24\n    },\n    __self: this\n  }, \"Genre:\"), \" \", props.show.Genre), __jsx(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25\n    },\n    __self: this\n  }, __jsx(\"b\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25\n    },\n    __self: this\n  }, \"Director:\"), \" \", props.show.Director), __jsx(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26\n    },\n    __self: this\n  }, __jsx(\"b\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26\n    },\n    __self: this\n  }, \"Actors:\"), \" \", props.show.Actors), __jsx(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }, __jsx(\"b\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }, \"Writer:\"), \" \", props.show.Writer), __jsx(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28\n    },\n    __self: this\n  }, __jsx(\"b\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28\n    },\n    __self: this\n  }, \"Plot:\"), \" \", props.show.Plot), __jsx(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }, __jsx(\"b\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }, \"Rating:\"), \" \", props.show.imdbRating), __jsx(\"form\", {\n    onSubmit: addToCartFunction,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }, __jsx(\"input\", {\n    type: \"submit\",\n    value: \"Submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  })));\n};\n\nPost.getInitialProps =\n/*#__PURE__*/\nfunction () {\n  var _ref = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee(context) {\n    var id, res, show;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            id = context.query.id;\n            _context.next = 3;\n            return fetch(\"http://www.omdbapi.com/?i=\".concat(id, \"&apikey=432e9351\"));\n\n          case 3:\n            res = _context.sent;\n            _context.next = 6;\n            return res.json();\n\n          case 6:\n            show = _context.sent;\n            return _context.abrupt(\"return\", {\n              show: show\n            });\n\n          case 8:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nexport default Post;","map":{"version":3,"sources":["/Users/armandocalderon/Documents/projects/react/next-js/next-js-tutorial/pages/p/[id].js"],"names":["useContext","fetch","Layout","UserContext","Post","props","cartItems","addToCartFunction","event","preventDefault","push","show","Title","Year","console","log","Poster","Rated","Released","Runtime","Genre","Director","Actors","Writer","Plot","imdbRating","getInitialProps","context","id","query","res","json"],"mappings":"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","sourcesContent":["import { useContext } from 'react';\nimport fetch from 'isomorphic-unfetch';\n\nimport Layout from '../../components/MyLayout';\nimport UserContext from '../../components/MovieCartContext';\n\nconst Post = (props) => {\n  const { cartItems } = useContext(UserContext);\n\n  const addToCartFunction = (event) => {\n    event.preventDefault();\n    \n    cartItems.push(`${props.show.Title}, (${props.show.Year})`);\n    console.log(cartItems)\n  }\n\n  return (\n    <Layout>\n      <h1>Title: {props.show.Title}</h1>\n      <img src={props.show.Poster} />\n      <p><b>Rated:</b> {props.show.Rated}</p>\n      <p><b>Released:</b> {props.show.Released}</p>\n      <p><b>Runtime:</b> {props.show.Runtime}</p>\n      <p><b>Genre:</b> {props.show.Genre}</p>\n      <p><b>Director:</b> {props.show.Director}</p>\n      <p><b>Actors:</b> {props.show.Actors}</p>\n      <p><b>Writer:</b> {props.show.Writer}</p>\n      <p><b>Plot:</b> {props.show.Plot}</p>\n      <p><b>Rating:</b> {props.show.imdbRating}</p>\n\n      <form onSubmit={addToCartFunction}>\n        <input type=\"submit\" value=\"Submit\" />\n      </form>\n    </Layout>\n  )\n};\n\nPost.getInitialProps = async function(context) {\n  const { id } = context.query;\n  const res = await fetch(`http://www.omdbapi.com/?i=${id}&apikey=432e9351`);\n  const show = await res.json();\n\n  return { show };\n};\n\nexport default Post;"]},"metadata":{},"sourceType":"module"}