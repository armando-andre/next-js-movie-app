{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"/Users/armandocalderon/Documents/projects/react/next-js/next-js-tutorial/pages/p/[id].js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useContext } from 'react';\nimport fetch from 'isomorphic-unfetch';\nimport Layout from '../../components/MyLayout';\nimport UserContext from '../../components/MovieCartContext';\n\nvar Post = function Post(props) {\n  var _useContext = useContext(UserContext),\n      cartItems = _useContext.cartItems;\n\n  var addToCartFunction = function addToCartFunction(event) {\n    event.preventDefault();\n\n    try {\n      cartItems.push(__jsx(\"li\", {\n        key: props.show.imdbID,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 14\n        },\n        __self: this\n      }, \"\".concat(props.show.Title, \", (\").concat(props.show.Year, \")\")));\n    } catch (error) {\n      console.log(\"Error\");\n    }\n\n    console.log(cartItems);\n  };\n\n  return __jsx(Layout, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23\n    },\n    __self: this\n  }, __jsx(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24\n    },\n    __self: this\n  }, \"Title: \", props.show.Title), __jsx(\"img\", {\n    src: props.show.Poster,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25\n    },\n    __self: this\n  }), __jsx(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26\n    },\n    __self: this\n  }, __jsx(\"b\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26\n    },\n    __self: this\n  }, \"Rated:\"), \" \", props.show.Rated), __jsx(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }, __jsx(\"b\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }, \"Released:\"), \" \", props.show.Released), __jsx(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28\n    },\n    __self: this\n  }, __jsx(\"b\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28\n    },\n    __self: this\n  }, \"Runtime:\"), \" \", props.show.Runtime), __jsx(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }, __jsx(\"b\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }, \"Genre:\"), \" \", props.show.Genre), __jsx(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }, __jsx(\"b\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }, \"Director:\"), \" \", props.show.Director), __jsx(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }, __jsx(\"b\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }, \"Actors:\"), \" \", props.show.Actors), __jsx(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }, __jsx(\"b\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }, \"Writer:\"), \" \", props.show.Writer), __jsx(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, __jsx(\"b\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, \"Plot:\"), \" \", props.show.Plot), __jsx(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, __jsx(\"b\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, \"Rating:\"), \" \", props.show.imdbRating), __jsx(\"form\", {\n    onSubmit: addToCartFunction,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, __jsx(\"input\", {\n    type: \"submit\",\n    value: \"Submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  })));\n};\n\nPost.getInitialProps =\n/*#__PURE__*/\nfunction () {\n  var _ref = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee(context) {\n    var id, res, show;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            id = context.query.id;\n            _context.next = 3;\n            return fetch(\"http://www.omdbapi.com/?i=\".concat(id, \"&apikey=432e9351\"));\n\n          case 3:\n            res = _context.sent;\n            _context.next = 6;\n            return res.json();\n\n          case 6:\n            show = _context.sent;\n            return _context.abrupt(\"return\", {\n              show: show\n            });\n\n          case 8:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nexport default Post;","map":{"version":3,"sources":["/Users/armandocalderon/Documents/projects/react/next-js/next-js-tutorial/pages/p/[id].js"],"names":["useContext","fetch","Layout","UserContext","Post","props","cartItems","addToCartFunction","event","preventDefault","push","show","imdbID","Title","Year","error","console","log","Poster","Rated","Released","Runtime","Genre","Director","Actors","Writer","Plot","imdbRating","getInitialProps","context","id","query","res","json"],"mappings":"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","sourcesContent":["import { useContext } from 'react';\nimport fetch from 'isomorphic-unfetch';\n\nimport Layout from '../../components/MyLayout';\nimport UserContext from '../../components/MovieCartContext';\n\nconst Post = (props) => {\n  const { cartItems } = useContext(UserContext);\n\n  const addToCartFunction = (event) => {\n    event.preventDefault();\n\n    try {\n      cartItems.push(<li key={props.show.imdbID}>{`${props.show.Title}, (${props.show.Year})`}</li>);\n    } catch (error) {\n      console.log(\"Error\")\n    }\n    \n    console.log(cartItems)\n  }\n\n  return (\n    <Layout>\n      <h1>Title: {props.show.Title}</h1>\n      <img src={props.show.Poster} />\n      <p><b>Rated:</b> {props.show.Rated}</p>\n      <p><b>Released:</b> {props.show.Released}</p>\n      <p><b>Runtime:</b> {props.show.Runtime}</p>\n      <p><b>Genre:</b> {props.show.Genre}</p>\n      <p><b>Director:</b> {props.show.Director}</p>\n      <p><b>Actors:</b> {props.show.Actors}</p>\n      <p><b>Writer:</b> {props.show.Writer}</p>\n      <p><b>Plot:</b> {props.show.Plot}</p>\n      <p><b>Rating:</b> {props.show.imdbRating}</p>\n\n      <form onSubmit={addToCartFunction}>\n        <input type=\"submit\" value=\"Submit\" />\n      </form>\n    </Layout>\n  )\n};\n\nPost.getInitialProps = async function(context) {\n  const { id } = context.query;\n  const res = await fetch(`http://www.omdbapi.com/?i=${id}&apikey=432e9351`);\n  const show = await res.json();\n\n  return { show };\n};\n\nexport default Post;"]},"metadata":{},"sourceType":"module"}